{% extends "base.html" %}
{% block title %}Your Profile{% endblock %}

{% block content %}
<div class="container py-4">
  <h1 class="mb-3">Profile</h1>

  <div class="card mb-4">
    <div class="card-body">
      <dl class="row mb-0">
        <dt class="col-sm-3">Full name</dt>
        <dd class="col-sm-9">{{ request.user.full_name|default:"—" }}</dd>

        <dt class="col-sm-3">Email</dt>
        <dd class="col-sm-9">{{ request.user.email|default:"—" }}</dd>

        <dt class="col-sm-3">Phone</dt>
        <dd class="col-sm-9">{{ request.user.phone|default:"—" }}</dd>

        <dt class="col-sm-3">Address</dt>
        <dd class="col-sm-9">
          {% if request.user.address_line1 or request.user.address_line2 or request.user.city or request.user.county or request.user.postcode or request.user.country %}
            {{ request.user.address_line1 }}{% if request.user.address_line1 and request.user.address_line2 %}, {% endif %}{{ request.user.address_line2 }}<br>
            {{ request.user.city }}{% if request.user.city and request.user.county %}, {% endif %}{{ request.user.county }}{% if request.user.postcode %} {{ request.user.postcode }}{% endif %}<br>
            {{ request.user.country }}
          {% else %}
            —
          {% endif %}
        </dd>

        <dt class="col-sm-3">Joined</dt>
        <dd class="col-sm-9">{{ request.user.date_joined|date:"Y-m-d H:i" }}</dd>

        <dt class="col-sm-3">Last login</dt>
        <dd class="col-sm-9">{{ request.user.last_login|date:"Y-m-d H:i"|default:"—" }}</dd>
      </dl>
    </div>
  </div>

  <div class="d-flex gap-2">
    <a href="{% url 'users:edit_profile' %}" class="btn btn-primary">Edit profile</a>
    <a href="{% url 'users:password_reset' %}" class="btn btn-outline-primary">Reset password via email</a>
    <a href="{% url 'core:home' %}" class="btn btn-secondary">Back to Home</a>
  </div>
</div>
{% endblock %}
